{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\somiv\\\\Desktop\\\\irisnlo\\\\jewellery-frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Cart() {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [customerName, setCustomerName] = useState(\"\");\n\n  // ðŸ›’ Load cart from localStorage (assuming you store added products there)\n  useEffect(() => {\n    const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    setCartItems(storedCart);\n    const sum = storedCart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n    setTotal(sum);\n  }, []);\n\n  // ðŸ’³ Place order (send to backend)\n  const handlePlaceOrder = async () => {\n    if (!customerName.trim()) {\n      alert(\"Please enter your name before placing the order.\");\n      return;\n    }\n    try {\n      const orderData = {\n        customerName,\n        products: cartItems,\n        totalAmount: total,\n        status: \"Received\"\n      };\n      const res = await fetch(\"http://localhost:5000/api/orders\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(orderData)\n      });\n      if (!res.ok) throw new Error(\"Failed to place order\");\n      const data = await res.json();\n      alert(\"Order placed successfully! ðŸŽ‰\");\n      console.log(\"Order:\", data);\n\n      // Clear cart after placing order\n      localStorage.removeItem(\"cart\");\n      setCartItems([]);\n      setTotal(0);\n    } catch (err) {\n      console.error(\"Error:\", err);\n      alert(\"Something went wrong while placing your order.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDED2 Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Your cart is currently empty.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-items\",\n        children: cartItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 20\n            }, this), \" \\xD7 \", item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u20B9\", item.price * item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Total: \\u20B9\", total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter your name\",\n        value: customerName,\n        onChange: e => setCustomerName(e.target.value),\n        className: \"input-name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePlaceOrder,\n        className: \"btn btn-primary mt-2\",\n        children: \"Place Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"Yo1aEY9sv01qgE6jK3OZCbV0R0c=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Cart","_s","cartItems","setCartItems","total","setTotal","customerName","setCustomerName","storedCart","JSON","parse","localStorage","getItem","sum","reduce","acc","item","price","quantity","handlePlaceOrder","trim","alert","orderData","products","totalAmount","status","res","fetch","method","headers","body","stringify","ok","Error","data","json","console","log","removeItem","err","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","index","name","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/somiv/Desktop/irisnlo/jewellery-frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction Cart() {\n  const [cartItems, setCartItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [customerName, setCustomerName] = useState(\"\");\n\n  // ðŸ›’ Load cart from localStorage (assuming you store added products there)\n  useEffect(() => {\n    const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    setCartItems(storedCart);\n    const sum = storedCart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n    setTotal(sum);\n  }, []);\n\n  // ðŸ’³ Place order (send to backend)\n  const handlePlaceOrder = async () => {\n    if (!customerName.trim()) {\n      alert(\"Please enter your name before placing the order.\");\n      return;\n    }\n\n    try {\n      const orderData = {\n        customerName,\n        products: cartItems,\n        totalAmount: total,\n        status: \"Received\",\n      };\n\n      const res = await fetch(\"http://localhost:5000/api/orders\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(orderData),\n      });\n\n      if (!res.ok) throw new Error(\"Failed to place order\");\n      const data = await res.json();\n\n      alert(\"Order placed successfully! ðŸŽ‰\");\n      console.log(\"Order:\", data);\n\n      // Clear cart after placing order\n      localStorage.removeItem(\"cart\");\n      setCartItems([]);\n      setTotal(0);\n    } catch (err) {\n      console.error(\"Error:\", err);\n      alert(\"Something went wrong while placing your order.\");\n    }\n  };\n\n  return (\n    <div className=\"text-center\">\n      <h2>ðŸ›’ Shopping Cart</h2>\n      {cartItems.length === 0 ? (\n        <p>Your cart is currently empty.</p>\n      ) : (\n        <div className=\"cart-container\">\n          <div className=\"cart-items\">\n            {cartItems.map((item, index) => (\n              <div key={index} className=\"cart-item\">\n                <p><strong>{item.name}</strong> Ã— {item.quantity}</p>\n                <p>â‚¹{item.price * item.quantity}</p>\n              </div>\n            ))}\n          </div>\n\n          <h3>Total: â‚¹{total}</h3>\n\n          <input\n            type=\"text\"\n            placeholder=\"Enter your name\"\n            value={customerName}\n            onChange={(e) => setCustomerName(e.target.value)}\n            className=\"input-name\"\n          />\n\n          <br />\n          <button onClick={handlePlaceOrder} className=\"btn btn-primary mt-2\">\n            Place Order\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}